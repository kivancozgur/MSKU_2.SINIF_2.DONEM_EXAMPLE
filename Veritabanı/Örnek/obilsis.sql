# SQL Manager 2007 for MySQL 4.3.2.1
# ---------------------------------------
# Host     : 127.0.0.1
# Port     : 3306
# Database : obilsis


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

SET FOREIGN_KEY_CHECKS=0;

USE `obilsis`;

#
# Structure for the `bolum` table : 
#

DROP TABLE IF EXISTS `bolum`;

CREATE TABLE `bolum` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `FAKULTEID` INTEGER(11) DEFAULT NULL,
  `AD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `BOLUMKODU` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  PRIMARY KEY (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=5 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `ders` table : 
#

DROP TABLE IF EXISTS `ders`;

CREATE TABLE `ders` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `KOD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `AD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `KREDI` SMALLINT(6) DEFAULT NULL,
  `BOLUMID` INTEGER(11) DEFAULT NULL,
  PRIMARY KEY (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=9 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `universite` table : 
#

DROP TABLE IF EXISTS `universite`;

CREATE TABLE `universite` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `AD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `ADRES` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `TELEFON` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `REKTOR` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  PRIMARY KEY (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=2 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `fakulte` table : 
#

DROP TABLE IF EXISTS `fakulte`;

CREATE TABLE `fakulte` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `KODU` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `AD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `UNIVERSITEID` INTEGER(11) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `UNIVERSITEID` (`UNIVERSITEID`),
  CONSTRAINT `fakulte_fk` FOREIGN KEY (`UNIVERSITEID`) REFERENCES `universite` (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=3 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `ogrenci` table : 
#

DROP TABLE IF EXISTS `ogrenci`;

CREATE TABLE `ogrenci` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `AD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `SOYAD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `OGRENCINO` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `DURUM` SMALLINT(6) DEFAULT '1',
  `BOLUMID` INTEGER(11) DEFAULT NULL,
  `KAYITTARIHI` INTEGER(11) DEFAULT NULL,
  PRIMARY KEY (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=11 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `ogrenciders` table : 
#

DROP TABLE IF EXISTS `ogrenciders`;

CREATE TABLE `ogrenciders` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `DERSID` INTEGER(11) DEFAULT NULL,
  `OGRENCI_ID` INTEGER(11) DEFAULT NULL,
  `PERSONELID` INTEGER(11) DEFAULT NULL,
  `DERSALISTIPI` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `DERSKAYITTARIHI` DATETIME DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `OGRENCI_ID_2` (`OGRENCI_ID`),
  KEY `DERSID` (`DERSID`),
  CONSTRAINT `ogrenciders_fk` FOREIGN KEY (`OGRENCI_ID`) REFERENCES `ogrenci` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE,
  CONSTRAINT `ogrenciders_fk1` FOREIGN KEY (`DERSID`) REFERENCES `ders` (`ID`) ON DELETE CASCADE ON UPDATE CASCADE

)ENGINE=InnoDB
AUTO_INCREMENT=5 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `personel` table : 
#

DROP TABLE IF EXISTS `personel`;

CREATE TABLE `personel` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `BOLUMID` INTEGER(11) DEFAULT NULL,
  `AD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `SOYAD` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `SICILNO` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `TURU` SMALLINT(6) DEFAULT NULL,
  `UNVAN` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  PRIMARY KEY (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=5 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `sinav` table : 
#

DROP TABLE IF EXISTS `sinav`;

CREATE TABLE `sinav` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `DERSID` INTEGER(11) DEFAULT NULL,
  `SINAVADI` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `SINAVTURU` VARCHAR(20) COLLATE utf8_general_ci DEFAULT NULL,
  `KATKIORANI` FLOAT(9,3) DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `DERSID` (`DERSID`),
  CONSTRAINT `sinav_fk` FOREIGN KEY (`DERSID`) REFERENCES `ders` (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=5 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Structure for the `sinavnot` table : 
#

DROP TABLE IF EXISTS `sinavnot`;

CREATE TABLE `sinavnot` (
  `ID` INTEGER(11) NOT NULL AUTO_INCREMENT,
  `SINAVID` INTEGER(11) DEFAULT NULL,
  `OGRENCIDERSID` INTEGER(11) DEFAULT NULL,
  `PUAN` INTEGER(11) DEFAULT NULL,
  `NOTGIRISTARIHI` DATETIME DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `SINAVID` (`SINAVID`),
  KEY `OGRENCIDERSID` (`OGRENCIDERSID`),
  CONSTRAINT `sinavnot_fk` FOREIGN KEY (`SINAVID`) REFERENCES `sinav` (`ID`),
  CONSTRAINT `sinavnot_fk1` FOREIGN KEY (`OGRENCIDERSID`) REFERENCES `ogrenciders` (`ID`)

)ENGINE=InnoDB
AUTO_INCREMENT=7 ROW_FORMAT=DYNAMIC CHARACTER SET 'utf8' COLLATE 'utf8_general_ci';

#
# Data for the `bolum` table  (LIMIT 0,500)
#

INSERT INTO `bolum` (`ID`, `FAKULTEID`, `AD`, `BOLUMKODU`) VALUES
  (1,1,'BİYOLOJİ','BİY'),
  (2,1,'MATEMATİK','MAT'),
  (3,2,'BİLİŞİM SİSTEMLERİ','BSM'),
  (4,2,'ENERJİ SİSTEMLERİ','ENE');
COMMIT;

#
# Data for the `ders` table  (LIMIT 0,500)
#

INSERT INTO `ders` (`ID`, `KOD`, `AD`, `KREDI`, `BOLUMID`) VALUES
  (1,'BİY2004','GENEL BİYOLOJİ',3,1),
  (2,'MAT1001','GENEL MATEMATİK',4,2),
  (3,'MAT2005','DİFERANSİYEL DENKLEM',5,2),
  (4,'BSM2005','VERİTABANI YÖNETİM S',4,3),
  (5,'BSM3005','WEB TASARIMI',4,3),
  (6,'BSM4003','WEB TABANLI PROG',2,3),
  (7,'ENE1001','ENERJİ SİST. GİRİŞ',4,4),
  (8,'ENE3008','YENİLENEBİLİR EN.KAY',4,4);
COMMIT;

#
# Data for the `universite` table  (LIMIT 0,500)
#

INSERT INTO `universite` (`ID`, `AD`, `ADRES`, `TELEFON`, `REKTOR`) VALUES
  (1,'MUĞLA','MUĞLA','12222222','ASFASFASF');
COMMIT;

#
# Data for the `fakulte` table  (LIMIT 0,500)
#

INSERT INTO `fakulte` (`ID`, `KODU`, `AD`, `UNIVERSITEID`) VALUES
  (1,'FEN','FEN FAKÜLTESİ',1),
  (2,'TEK','TEKNOLOJİ FAKÜLTESİ',1);
COMMIT;

#
# Data for the `ogrenci` table  (LIMIT 0,500)
#

INSERT INTO `ogrenci` (`ID`, `AD`, `SOYAD`, `OGRENCINO`, `DURUM`, `BOLUMID`, `KAYITTARIHI`) VALUES
  (1,'ALİ','CANSEL','123213123',1,2,NULL),
  (2,'AHMET','KURT','212312223',1,2,NULL),
  (3,'CANER','ALLI','213213223',1,2,NULL),
  (4,'AHMET','SESLİ','213132334',1,1,NULL),
  (5,'KEMAL','GÜL','213133445',1,1,NULL),
  (6,'CANSU','DENİZ','343423434',1,3,NULL),
  (7,'SEDA','ELİTAŞ','324443433',1,3,NULL),
  (8,'KAMİL','ÜNLÜ','432424144',1,3,NULL),
  (9,'KAMİLE','CANSIZ','332121122',1,4,NULL),
  (10,'MESUT','UYGAR','343241232',1,4,NULL);
COMMIT;

#
# Data for the `ogrenciders` table  (LIMIT 0,500)
#

INSERT INTO `ogrenciders` (`ID`, `DERSID`, `OGRENCI_ID`, `PERSONELID`, `DERSALISTIPI`, `DERSKAYITTARIHI`) VALUES
  (1,1,1,2,'Zorunlu','2018-01-01 00:00:00'),
  (2,2,1,3,'Zorunlu','2018-01-10 00:00:00'),
  (3,1,2,2,'Zorunlu','2018-01-05 00:00:00'),
  (4,1,3,2,'Zorunlu','2018-01-04 00:00:00');
COMMIT;

#
# Data for the `personel` table  (LIMIT 0,500)
#

INSERT INTO `personel` (`ID`, `BOLUMID`, `AD`, `SOYAD`, `SICILNO`, `TURU`, `UNVAN`) VALUES
  (1,1,'AHMET','CAN','A0123',1,'Öğretim Görevlisi'),
  (2,1,'MEHMET','DURSUN','A2123',1,'Doktor Öğr.Üyesi'),
  (3,2,'KEMAL','ÖZER','A2344',1,'Doç. Doktor'),
  (4,2,'BEKİR','GÜNAY','A3233',1,'Profesör');
COMMIT;

#
# Data for the `sinav` table  (LIMIT 0,500)
#

INSERT INTO `sinav` (`ID`, `DERSID`, `SINAVADI`, `SINAVTURU`, `KATKIORANI`) VALUES
  (1,1,'Vize','Ara',40.000),
  (2,2,'Vize','Ara',40.000),
  (3,1,'Final','Fin',60.000),
  (4,2,'Final','Fin',60.000);
COMMIT;

#
# Data for the `sinavnot` table  (LIMIT 0,500)
#

INSERT INTO `sinavnot` (`ID`, `SINAVID`, `OGRENCIDERSID`, `PUAN`, `NOTGIRISTARIHI`) VALUES
  (1,1,1,70,'2019-02-28 14:57:00'),
  (2,2,2,80,'2019-02-27 14:00:00'),
  (3,3,1,50,'2019-02-25 11:00:00'),
  (4,4,2,90,'2019-02-21 15:38:00'),
  (5,1,3,50,'2019-02-28 14:59:00'),
  (6,3,3,80,'2019-02-25 11:05:00');
COMMIT;

